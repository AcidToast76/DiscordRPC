"use strict";var clientId="1254145695762485248",DiscordRPC=require("discord-rpc"),RPC=new DiscordRPC.Client({transport:"ipc"});function spotifyJSONfetch(e){var t;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(fetch("https://spotify.thefemdevs.com/playing/nezha").then(function(e){return e.json()}));case 2:return t=e.sent,console.log(t),e.abrupt("return",t);case 5:case"end":return e.stop()}})}function updateDiscordRPCWithSpotify(){var t,n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(fetch("https://spotify.thefemdevs.com/playing/nezha").then(function(e){return e.json()}));case 2:if(t=e.sent,console.dir(t),RPC){e.next=6;break}return e.abrupt("return");case 6:n=t.playing,t.isPlaying,RPC.setActivity({details:"Listening To Spotify",state:"".concat(n.track.title," by ").concat(n.artists[0].name," on ").concat(n.album.title),largeImageKey:n.album.image,largeImageText:n.album.title,startTimestamp:n.meta.start,endTimestamp:n.meta.end,buttons:[{label:"Listen on Spotify",url:n.track.url},{label:"Website",url:"https://nezha.thefemdevs.com"}]});case 8:case"end":return e.stop()}})}function optimizeDiscordAPIRequests(){var t,n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(fetch("https://spotify.thefemdevs.com/playing/nezha").then(function(e){return e.json()}));case 2:t=e.sent,n=t.isPlaying,setInterval(function(){for(;!0===n;){var e=t.playing.track.title;if(null!=e)return updateDiscordRPCWithSpotify(),void console.dir(t)}},500);case 5:case"end":return e.stop()}})}spotifyJSONfetch(),RPC.on("ready",function(){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:updateDiscordRPCWithSpotify(),setInterval(function(){optimizeDiscordAPIRequests()},15e3);case 2:case"end":return e.stop()}})}),RPC.login({clientId:clientId}).catch(function(e){return console.error(e)});
//# sourceMappingURL=app.min.js.map
