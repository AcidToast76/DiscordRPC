"use strict";var clientId="1254145695762485248",DiscordRPC=require("discord-rpc"),RPC=new DiscordRPC.Client({transport:"ipc"});function spotifyJSONfetch(t){var e;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(fetch("https://spotify.thefemdevs.com/playing/nezha").then(function(t){return t.json()}));case 2:return e=t.sent,console.log(e),t.abrupt("return",e);case 5:case"end":return t.stop()}})}function updateDiscordRPCWithSpotify(){var e,n;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(fetch("https://spotify.thefemdevs.com/playing/nezha").then(function(t){return t.json()}));case 2:if(e=t.sent,console.dir(e),RPC){t.next=6;break}return t.abrupt("return");case 6:n=e.playing,e.isPlaying,RPC.setActivity({details:"Listening To Spotify",state:"".concat(n.track.title," by ").concat(n.artists[0].name," on ").concat(n.album.title),largeImageKey:n.album.image,largeImageText:n.album.title,buttons:[{label:"Listen on Spotify",url:n.track.url},{label:"Website",url:"https://nezha.thefemdevs.com"}]});case 8:case"end":return t.stop()}})}function optimizeDiscordAPIRequests(){return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:setInterval(function(){for(;!0===isPlaying;){var t=fetch("https://spotify.thefemdevs.com/playing/nezha").then(function(t){return t.json()});t.playing.track.title!==t.playing.track.title&&updateDiscordRPCWithSpotify()}},500);case 1:case"end":return t.stop()}})}spotifyJSONfetch(),RPC.on("ready",function(){return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:updateDiscordRPCWithSpotify(),setInterval(function(){updateDiscordRPCWithSpotify()},15e3);case 2:case"end":return t.stop()}})}),RPC.login({clientId:clientId}).catch(function(t){return console.error(t)});
//# sourceMappingURL=app.min.js.map
