{"version":3,"sources":["app.js"],"names":["clientId","DiscordRPC","require","RPC","Client","transport","spotifyJSONfetch","url","fetch","then","res","json","spotifyData","console","log","updateDiscordRPCWithSpotify","dir","playing","isPlaying","setActivity","details","state","track","title","artists","name","album","largeImageKey","image","largeImageText","buttons","label","optimizeDiscordAPIRequests","setInterval","spotifyTrack","on","login","err","error"],"mappings":"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","sourcesContent":["const clientId = \"1254145695762485248\";\r\nconst DiscordRPC = require(\"discord-rpc\");\r\nconst RPC = new DiscordRPC.Client({ transport: \"ipc\" });\r\n\r\nasync function spotifyJSONfetch(url) {\r\n    let spotifyData = await fetch('https://spotify.thefemdevs.com/playing/nezha').then(res => res.json())\r\n    console.log(spotifyData)\r\n    return spotifyData;\r\n}\r\n\r\nspotifyJSONfetch();\r\n\r\n\r\n// Function to update Discord RPC with Spotify track information\r\nasync function updateDiscordRPCWithSpotify() {\r\n    let spotifyData = await fetch('https://spotify.thefemdevs.com/playing/nezha').then(res => res.json());\r\n    console.dir(spotifyData);\r\n    if(!RPC) {\r\n        return;\r\n    }\r\n\r\n    const { playing, isPlaying } = spotifyData;\r\n    \r\n    RPC.setActivity({\r\n        details: \"Listening To Spotify\",\r\n        state: `${playing.track.title} by ${playing.artists[0].name} on ${playing.album.title}`,\r\n        largeImageKey: playing.album.image,\r\n        largeImageText: playing.album.title,\r\n        buttons: [\r\n            { label: \"Listen on Spotify\", url: playing.track.url },\r\n            { label: \"Website\", url: \"https://nezha.thefemdevs.com\"},\r\n        ],\r\n    })\r\n\r\n\r\n}\r\n\r\n// Function to optimize Discord API requests\r\n\r\nasync function optimizeDiscordAPIRequests() {\r\n\r\n    setInterval(() => {\r\n        while (isPlaying === true) {\r\n            let spotifyData = fetch('https://spotify.thefemdevs.com/playing/nezha').then(res => res.json());\r\n            let spotifyTrack = spotifyData.playing.track.title;\r\n            \r\n            if (spotifyTrack !== spotifyData.playing.track.title) {\r\n                updateDiscordRPCWithSpotify();\r\n            } else {\r\n                continue;\r\n            }\r\n        }\r\n    }, 500);\r\n}\r\n\r\nRPC.on(\"ready\", async () => {\r\n    updateDiscordRPCWithSpotify();\r\n    setInterval(() => {\r\n        optimizeDiscordAPIRequests();\r\n    }, 15e3);\r\n});\r\n\r\nRPC.login({ clientId }).catch(err => console.error(err));\r\n\r\n\r\n"],"file":"app.dev.js"}